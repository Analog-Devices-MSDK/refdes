<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FaceIdScenarioAdapter.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">com.maximintegrated.maxcamandroid.faceId</a> &gt; <span class="el_source">FaceIdScenarioAdapter.kt</span></div><h1>FaceIdScenarioAdapter.kt</h1><pre class="source lang-java linenums">package com.maximintegrated.maxcamandroid.faceId

import androidx.appcompat.app.AlertDialog
import android.view.LayoutInflater
import android.view.ViewGroup
import android.widget.TextView
import androidx.recyclerview.widget.RecyclerView
import com.google.android.material.button.MaterialButton
import com.maximintegrated.maxcamandroid.R
import kotlinx.android.synthetic.main.scenario_item.view.*

class FaceIdScenarioAdapter(private val listener: ScenarioListener) :
    RecyclerView.Adapter&lt;ScenarioViewHolder&gt;() {

    var scenarios: List&lt;Scenario&gt; = emptyList()
        set(value) {
            field = value
            notifyDataSetChanged()
        }

    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ScenarioViewHolder {
        return ScenarioViewHolder(parent)
    }

    override fun getItemCount(): Int {
        return scenarios.size
    }

    override fun onBindViewHolder(holder: ScenarioViewHolder, position: Int) {
        val scenario = scenarios[position]
        holder.bind(scenario, listener)
    }

}


<span class="pc" id="L37">class ScenarioViewHolder(val parent: ViewGroup) : RecyclerView.ViewHolder(</span>
<span class="fc" id="L38">    LayoutInflater.from(parent.context).inflate(</span>
<span class="fc" id="L39">        R.layout.scenario_item, parent, false</span>
    )
) {

<span class="fc" id="L43">    private val titleTextView: TextView by lazy { itemView.scenarioTitleTextView }</span>
<span class="fc" id="L44">    private val sourceTextView: TextView by lazy { itemView.sourceTextView }</span>
<span class="fc" id="L45">    private val outputTextView: TextView by lazy { itemView.outputTextView }</span>
<span class="fc" id="L46">    private val sizeTextView: TextView by lazy { itemView.sizeTextView }</span>
<span class="fc" id="L47">    private val configTextView: TextView by lazy { itemView.configurationTextView }</span>
<span class="fc" id="L48">    private val editButton: MaterialButton by lazy { itemView.editButton }</span>
<span class="fc" id="L49">    private val selectButton: MaterialButton by lazy { itemView.selectButton }</span>
<span class="fc" id="L50">    private val deleteButton: MaterialButton by lazy { itemView.deleteButton }</span>

    fun bind(scenario: Scenario, listener: ScenarioListener) {
<span class="fc" id="L53">        titleTextView.text = scenario.name</span>
<span class="fc" id="L54">        sourceTextView.text = scenario.imageSource.toString()</span>
<span class="fc" id="L55">        outputTextView.text = scenario.imageOutput.toString()</span>
<span class="fc" id="L56">        sizeTextView.text = scenario.imageSize.toString()</span>
<span class="fc" id="L57">        configTextView.text = scenario.configFileName</span>
<span class="fc" id="L58">        editButton.setOnClickListener {</span>
<span class="fc" id="L59">            listener.onEditButtonClicked(scenario)</span>
<span class="fc" id="L60">        }</span>
<span class="fc" id="L61">        selectButton.setOnClickListener {</span>
<span class="fc" id="L62">            listener.onSelectButtonClicked(scenario)</span>
<span class="fc" id="L63">        }</span>
<span class="fc" id="L64">        deleteButton.setOnClickListener {</span>
<span class="fc" id="L65">            askUserForDeleteOperation(scenario, listener)</span>
<span class="fc" id="L66">        }</span>
<span class="fc" id="L67">    }</span>

    private fun askUserForDeleteOperation(scenario: Scenario, listener: ScenarioListener){
<span class="fc" id="L70">        val context = parent.context</span>
<span class="fc" id="L71">        val alert = AlertDialog.Builder(context)</span>
<span class="fc" id="L72">        alert.setMessage(context.getString(R.string.are_you_sure_to_delete_it))</span>
<span class="fc" id="L73">        alert.setPositiveButton(context.getString(R.string.yes)){ dialog, _ -&gt;</span>
<span class="fc" id="L74">            dialog.dismiss()</span>
<span class="fc" id="L75">            listener.onDeleteButtonClicked(scenario)</span>
<span class="fc" id="L76">        }</span>
<span class="fc" id="L77">        alert.setNegativeButton(context.getString(R.string.cancel)){ dialog, _ -&gt;</span>
<span class="nc" id="L78">            dialog.dismiss()</span>
<span class="nc" id="L79">        }</span>
<span class="fc" id="L80">        alert.show()</span>
<span class="fc" id="L81">    }</span>
}

interface ScenarioListener {
    fun onEditButtonClicked(scenario: Scenario)
    fun onSelectButtonClicked(scenario: Scenario)
    fun onDeleteButtonClicked(scenario: Scenario)
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>